<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>劇場版 OFFICIAL HIGE DANDISM LIVE at STADIUM 2025　映画館リスト</title>
<style>
  :root { --bg:#0c0f14; --card:#12161d; --text:#e7ebf3; --muted:#8a93a6; --accent:#4f8cff; --border:#222838; --chip:#1a1f2b; }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans JP","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,sans-serif}
  header{position:sticky;top:0;z-index:10;background:rgba(12,15,20,.96);backdrop-filter:blur(6px);padding:12px 14px;border-bottom:1px solid var(--border)}
  h1{margin:0;font-size:18px}
  .tabs{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
  .tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:var(--chip);color:var(--text);cursor:pointer;font-size:14px}
  .tab.active{background:var(--accent);border-color:var(--accent);color:#fff}
  .filters{display:grid;gap:8px;padding:10px 14px;border-bottom:1px solid var(--border)}
  .filter-row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  select,input[type="search"]{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#0f141d;color:var(--text)}
  main{padding:12px 14px}
  .group{margin-top:16px}
  .group h2{font-size:15px;color:var(--muted);margin:0 0 8px}
  .grid{display:grid;gap:10px;grid-template-columns:1fr}
  @media (min-width:720px){.grid{grid-template-columns:1fr 1fr}}
  @media (min-width:1024px){.grid{grid-template-columns:1fr 1fr 1fr}}
  .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px;display:grid;gap:6px}
  .title{font-weight:600;word-break:break-word}
  .meta{color:var(--muted);font-size:13px;word-break:break-word}
  .badges{display:flex;gap:6px;flex-wrap:wrap}
  .badge{font-size:12px;padding:2px 8px;background:#1a2233;border:1px solid #22304b;border-radius:999px;white-space:nowrap}
  a.btn{display:inline-block;text-decoration:none;color:#fff;background:var(--accent);padding:7px 10px;border-radius:10px;font-size:13px}
  footer{padding:14px;color:var(--muted);font-size:12px;border-top:1px solid var(--border)}
  #csv-debug{position:fixed;left:8px;bottom:8px;max-width:92vw;background:#1f2937;color:#fff;padding:8px 10px;border-radius:8px;font:12px/1.4 system-ui,-apple-system;z-index:9999;opacity:.95;white-space:pre-wrap;display:none}
  .skeleton{height:96px;background:linear-gradient(90deg,#151a22,#1a2030,#151a22);background-size:200% 100%;animation:sk 1.2s infinite}
  @keyframes sk{0%{background-position:0 0}100%{background-position:200% 0}}
.notice {
  background: #1e2430;
  color: #e0e5ef;
  padding: 10px 14px;
  border-bottom: 1px solid #2a3242;
  font-size: 14px;
  line-height: 1.5;
}
</style>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SJ7XCZGMDW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SJ7XCZGMDW');
</script>
</head>
<body>

<header>
  <h1>劇場版 OFFICIAL HIGE DANDISM LIVE at STADIUM 2025　映画館リスト</h1>
  <div class="tabs" id="tabs">
    <button type="button" class="tab active" data-tab="all">ALL</button>
    <button type="button" class="tab" data-tab="cinema">Dolby Cinema</button>
    <button type="button" class="tab" data-tab="atmos">Dolby Atmos</button>
    <button type="button" class="tab" data-tab="axk">Dolby Atmos×4K</button>
    <button type="button" class="tab" data-tab="ch71">7.1ch</button>
    <!-- 4K 単独タブは非表示 -->
  </div>
</header>
<div class="notice">
  <div style="background:#442; color:#ffcc00; padding:6px 10px; border-radius:6px; font-weight:700;">
    ⚠︎注意⚠︎ 経験上、Dolby Atmos上映は早めに終了となる可能性がございます！<br>
    ぜひお早めに劇場へ行くことをおすすめしております。
  </div>
  <br>
  こちらは公式サイト、映画館への問い合わせ、オンライン検索などで独自に調査いたしました。特に4K、7.1chについては網羅できておりません。<br>
  ●詳細については映画館に確認いただけたらと思います！<br>
  ●Dolby Atmos等の場合追加料金がかかる場合がございます。<br><br>

 <div class="sheet-block">
  <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vShtDnZUCsyJKxq1mUB8Hgid98ngAWYAcgEwhCg2MaV3cqbmyRsEsbr2eyZ8XFdyW00ZdsB2BkJhVuC/pubhtml?gid=1178123827&single=true"
     target="_blank" rel="noopener"
     style="color:#dbe8ff; font-weight:600; text-decoration:none;">
    📄 <b>10/24〜10/30 Dolby Atmos上映予定一覧を見る</b>
  </a>
</div>

  <br>

  🔗 <a href="https://x.com/immersivetoyama?s=21&t=wwlJ0ehzK3cZI6Zmqu-bCA"
        target="_blank" rel="noopener" class="x-link">
  立体音響普及委員会（X / Twitter）</a>
</div>
<div class="filters">
  <div class="filter-row">
    <select id="prefSelect"><option value="">エリア（すべて）</option></select>
    <input id="q" type="search" placeholder="劇場名・住所で検索…">
  </div>
</div>

<main id="content">
  <div class="group"><h2>読み込み中…</h2><div class="grid"><div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div></div></div>
</main>

<footer>
  ※ タブ（ALL / Dolby Cinema / Dolby Atmos / Dolby Atmos×4K / 7.1ch）と、エリア・検索で絞り込みできます。J列（other）は自由記述をバッジ表示します。
</footer>

<div id="csv-debug"></div>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js" crossorigin="anonymous"></script>

<script>
/* ===== 設定 ===== */
var SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vShtDnZUCsyJKxq1mUB8Hgid98ngAWYAcgEwhCg2MaV3cqbmyRsEsbr2eyZ8XFdyW00ZdsB2BkJhVuC/pub?gid=1453087675&single=true&output=csv";
var OVERRIDE_HEADER = { pref:"エリア", cinema:"Dolby Cinema" };

/* ===== Utils ===== */
function dbg(msg){/* 必要時のみ可視化
  var el=document.getElementById('csv-debug'); el.style.display='block';
  el.textContent = (typeof msg==='string')? msg : JSON.stringify(msg,null,2); */ }
function clean(v){
  return String(v||"")
    .replace(/contentReference\[oaicite:\d+\]\{index=\d+\}/gi, '')
    .replace(/[\u200B-\u200D\uFEFF]/g, '')
    .trim();
}
function toHalfWidthDigits(s){ return String(s||"").replace(/[０-９]/g, ch => String.fromCharCode(ch.charCodeAt(0)-0xFEE0)); }
function debounce(fn,ms){ let t; return function(){ clearTimeout(t); const a=arguments; t=setTimeout(()=>fn.apply(this,a),ms); }; }

/* ===== Prefs ===== */
var PREFS=["北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","山梨県","長野県","富山県","石川県","福井県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県"];
var REGIONS=["北海道","東北","関東","北関東","北陸","甲信越","東海","中部","近畿","関西","中国","四国","九州","沖縄","中国四国"];
function prefectureFromAddress(addr){
  var s=clean(addr).replace(/\s|\u3000/g,"");
  if(!s) return "";
  for(var i=0;i<PREFS.length;i++) if(s.indexOf(PREFS[i])===0) return PREFS[i];
  var short={"東京":"東京都","大阪":"大阪府","京都":"京都府","沖縄":"沖縄県"};
  for(var k in short){ if(s.indexOf(k)===0) return short[k]; }
  return "";
}
function normalizePref(p){
  p=clean(p).replace(/\s|\u3000/g,"");
  if(!p) return '';
  var short={"東京":"東京都","大阪":"大阪府","京都":"京都府","沖縄":"沖縄県","北海道":"北海道"};
  if(short[p]) return short[p];
  var last=p.charAt(p.length-1);
  if(["都","道","府","県"].indexOf(last)===-1 && p!=="北海道") p=p+"県";
  return p;
}
function displayPref(pref){
  if(!pref) return "（エリア不明）";
  if(pref==="北海道") return "北海道";
  if(pref==="東京都") return "東京";
  if(pref==="大阪府") return "大阪";
  if(pref==="京都府") return "京都";
  var last=pref.charAt(pref.length-1);
  if(["都","道","府","県"].indexOf(last)!==-1) return pref.slice(0,-1);
  return pref;
}

/* ===== Header/Index ===== */
function nHead(s){return clean(s).replace(/\u3000/g,' ').toLowerCase();}
function findIdx(header, aliases){
  var H=header.map(nHead);
  for(var j=0;j<aliases.length;j++){ var key=nHead(aliases[j]); var idx=H.indexOf(key); if(idx!==-1) return idx; }
  return -1;
}
var ALIAS={
  pref:["エリア","都道府県","都道府県名","県名","道府県","地域"],
  name:["劇場名","映画館","映画館名","シアター","館名","名称","劇場"],
  addr:["住所","所在地","住所1","住所_全文","address","所在地住所"],
  url:["URL","url","リンク","公式","公式サイト","サイトURL","公式サイトURL"],
  atmos:["Dolby Atmos","Atmos","ドルビーアトモス","アトモス"],
  ch71:["7.1ch","7.1 ch","7.1CH","7_1ch","7-1ch"],
  k4:["4K","4ｋ","４Ｋ","4k","4K対応"],
  other:["other","備考","メモ","注記","形式","自由記述"],
  cinema:["Dolby Cinema","DolbyCinema","ドルビーシネマ","DC","ＤＣ"],
  seats:["座席数","席数","シート数","キャパ","収容人数","定員"]
};
function idxByName(header,name){ var H=header.map(nHead); var i=H.indexOf(nHead(name)); return i>=0? i : -1; }
function idxSmart(header,key){
  if (OVERRIDE_HEADER && OVERRIDE_HEADER[key]) {
    var i=idxByName(header, OVERRIDE_HEADER[key]);
    if (i!==-1) return i;
  }
  return findIdx(header, ALIAS[key]);
}

/* ===== “スクリーン仕様” 汎用パーサ =====
   入力例： "ALL" / "全スクリーン" / "1,2,4-6" / "1 2 4〜6" / "3番のみ"
   返り値: { has:bool, all:bool, list:number[], raw:string }
*/
function parseScreensSpec(v){
  let s = toHalfWidthDigits(String(v||"").trim());
  if(!s) return { has:false, all:false, list:[], raw:"" };

  // ALL 表現
  if (/^(all|全|全スクリーン|全部|全館|全シアター)$/i.test(s)) {
    return { has:true, all:true, list:[], raw:s };
  }

  // 分割してレンジ/単数を収集
  const parts = s.split(/[,，、\s]+/).filter(Boolean);
  let nums = [];
  for (const p of parts) {
    const m = p.match(/^(\d+)\s*[~\-〜－]\s*(\d+)$/); // 4-6 / 4~6 / 4〜6
    if (m) {
      let a = parseInt(m[1],10), b = parseInt(m[2],10);
      if (a > b) [a,b] = [b,a];
      for (let x=a; x<=b; x++) nums.push(x);
      continue;
    }
    if (/^\d+$/.test(p)) { nums.push(parseInt(p,10)); continue; }
  }

  if (nums.length) {
    nums = Array.from(new Set(nums)).sort((a,b)=>a-b);
    return { has:true, all:false, list:nums, raw:s };
  }
  // 数字なしでも何か指定がある → 有とみなす（raw保持）
  return { has:true, all:false, list:[], raw:s };
}

/* 連続数列を "1–3,5,7–9" に圧縮 */
function compressRuns(list){
  if(!list || !list.length) return "";
  let out=[], i=0;
  while(i<list.length){
    let j=i;
    while(j+1<list.length && list[j+1]===list[j]+1) j++;
    if (i===j) out.push(String(list[i]));
    else out.push(list[i]+"–"+list[j]); // en dash
    i=j+1;
  }
  return out.join(",");
}

/* ===== データ構築 ===== */
var DATA=[], PREFECTS=[];
function buildDataFromRows(header, rows){
  var iPref  = idxSmart(header,"pref");
  var iName  = idxSmart(header,"name");
  var iAddr  = idxSmart(header,"addr");
  var iURL   = idxSmart(header,"url");
  var iAt    = idxSmart(header,"atmos");
  var i71    = idxSmart(header,"ch71");
  var i4K    = idxSmart(header,"k4");
  var iOther = idxSmart(header,"other");
  var iSeats = idxSmart(header,"seats");
  var iCinema= idxSmart(header,"cinema");

  DATA=[]; var present={};
  for(var r=0;r<rows.length;r++){
    var row=rows[r]||[];
    if(!row.some(c => String(c||"").trim()!=="")) continue; // 空行スキップ

    var raw = (iPref>-1? row[iPref] : "");
    var rawTrim = clean(raw).replace(/\s|\u3000/g,"");
    var isRegion = REGIONS.indexOf(rawTrim)!==-1;
    var prefNorm = normalizePref(isRegion? "" : rawTrim);
    if(!prefNorm){
      var guess = prefectureFromAddress(iAddr>-1? row[iAddr] : "");
      prefNorm = normalizePref(guess);
    }

    // 各列の生値
    var nameRaw   = iName>-1?  clean(row[iName])  : "";
    var addrRaw   = iAddr>-1?  clean(row[iAddr])  : "";
    var urlRaw    = iURL>-1?   clean(row[iURL])   : "";
    var atmosRaw  = iAt>-1?    clean(row[iAt])    : "";
    var ch71Raw   = i71>-1?    clean(row[i71])    : "";
    var k4Raw     = i4K>-1?    clean(row[i4K])    : "";
    var otherRaw  = iOther>-1? clean(row[iOther]) : "";
    var seatsRaw  = iSeats>-1? clean(row[iSeats]) : "";
    var cinemaRaw = iCinema>-1?clean(row[iCinema]): "";

    // 仕様パース（ALL / 1,2,4-6 など）
    var cinemaSpec = parseScreensSpec(cinemaRaw);
    var atmosSpec  = parseScreensSpec(atmosRaw);
    var ch71Spec   = parseScreensSpec(ch71Raw);
    var k4Spec     = parseScreensSpec(k4Raw);

    var rec = {
      prefNorm,
      prefDisp: displayPref(prefNorm),
      theater : nameRaw,
      address : addrRaw,
      url     : urlRaw,
      // 元の値
      atmos   : atmosRaw,
      ch71    : ch71Raw,
      k4      : k4Raw,
      other   : otherRaw,
      seats   : seatsRaw,
      // 統一仕様
      cinemaHas: cinemaSpec.has, cinemaAll: cinemaSpec.all, cinemaList: cinemaSpec.list, cinemaRaw: cinemaSpec.raw,
      atmosHas : atmosSpec.has,  atmosAll : atmosSpec.all,  atmosList : atmosSpec.list,  atmosRawSpec: atmosSpec.raw,
      ch71Has  : ch71Spec.has,   ch71All  : ch71Spec.all,   ch71List  : ch71Spec.list,   ch71RawSpec : ch71Spec.raw,
      k4Has    : k4Spec.has,     k4All    : k4Spec.all,     k4List    : k4Spec.list,     k4RawSpec   : k4Spec.raw
    };
    rec.searchHay = (rec.theater+" "+rec.address+" "+(rec.prefDisp||"")+" "+(rec.other||"")).toLowerCase();

    DATA.push(rec);
    if(rec.prefNorm) present[rec.prefNorm]=true;
  }

  PREFECTS=[];
  for(var i=0;i<PREFS.length;i++){ if(present[PREFS[i]]) PREFECTS.push({norm:PREFS[i], disp:displayPref(PREFS[i])}); }
  if(DATA.some(d=>!d.prefNorm)) PREFECTS.push({norm:"", disp:"（エリア不明）"});
}

/* ===== CSV Load（ヘッダー自動検出） ===== */
function csvUrlNoCache(){ return SHEET_CSV_URL + '&_t=' + Date.now(); }
(function(){
  Papa.parse(csvUrlNoCache(),{
    download:true, header:false, skipEmptyLines:true,
    complete:function(res){
      const raw = res.data || [];
      const rows = raw.filter(row => row && row.some(cell => String(cell||"").trim()!==""));
      if(!rows.length){ renderError("CSVが空です"); return; }

      function N(s){ return String(s||"").replace(/\u3000/g,' ').trim().toLowerCase(); }
      const headerKeys = ["エリア","劇場名","住所","dolby cinema","dolby atmos","7.1","7.1ch"].map(N);
      let hidx = 0;
      for(let i=0;i<rows.length;i++){
        const H = (rows[i]||[]).map(N);
        if(H.some(h => headerKeys.includes(h))){ hidx = i; break; }
      }
      const header = rows[hidx] || rows[0];
      const body   = rows.slice(hidx+1);

      buildDataFromRows(header, body);
      initUI(); render();
    },
    error:function(err){ console.error(err); renderError("CSV読込エラー。URL/公開設定をご確認ください。"); }
  });
})();

/* ===== UI / Render ===== */
var STATE = { tab:"all", pref:"", q:"" };
function initUI(){
  const tabs=document.getElementById("tabs");
  tabs.onclick=function(e){
    const t=e.target; if(!t || t.className.indexOf("tab")===-1) return;
    const all=tabs.getElementsByClassName("tab");
    for(let i=0;i<all.length;i++) all[i].classList.remove("active");
    t.classList.add("active");
    STATE.tab=t.getAttribute("data-tab");
    render();
  };

  const sel=document.getElementById("prefSelect");
  sel.innerHTML='<option value="">エリア（すべて）</option>';
  for(let i=0;i<PREFECTS.length;i++){
    const o=document.createElement("option");
    o.value=PREFECTS[i].norm; o.textContent=PREFECTS[i].disp; sel.appendChild(o);
  }
  sel.onchange=function(){ STATE.pref=this.value; render(); };

  const q=document.getElementById("q");
  q.oninput=debounce(function(){ STATE.q=this.value.trim(); render(); }, 200);
}
function nz(v){ return v && String(v).replace(/\s+/g,"")!==""; }
function matchTab(rec){
  if(STATE.tab==="all")   return true;
  if(STATE.tab==="cinema")return !!rec.cinemaHas;
  if(STATE.tab==="atmos") return !!rec.atmosHas;
  if(STATE.tab==="axk")   return !!rec.atmosHas && !!rec.k4Has; // Atmos×4K
  if(STATE.tab==="ch71")  return !!rec.ch71Has;
  return true;
}
function matchFilters(rec){
  if(STATE.pref!=="" && rec.prefNorm!==STATE.pref) return false;
  if(STATE.q && rec.searchHay.indexOf(STATE.q.toLowerCase())===-1) return false;
  return true;
}

/* スクリーン表記の組み立て */
function labelWithScreens(base, spec){
  if(!spec || !spec.has) return base;
  if(spec.all) return `${base}（ALL）`;
  if(spec.list && spec.list.length) return `${base}（スクリーン${compressRuns(spec.list)}）`;
  if(spec.raw) return `${base}（${spec.raw}）`;
  return base;
}

/* バッジ表示：
   - Dolby Cinema：常にスクリーン仕様を反映
   - Atmos×4K：両方 has のときのみ。スクリーン番号は Atmos 側優先 → 無ければ4K側 → raw 表示
   - Atmos単独：スクリーン仕様を反映
   - 4K単独：バッジ非表示（仕様維持）
   - 7.1ch：ALL/リスト/raw を反映
   - other（J列）：そのまま表示
*/
function badgeRow(rec){
  const b=[];
  if(rec.cinemaHas){
    b.push(labelWithScreens("🎥 Dolby Cinema", {has:rec.cinemaHas, all:rec.cinemaAll, list:rec.cinemaList, raw:rec.cinemaRaw}));
  }
  if(rec.atmosHas && rec.k4Has){
    // Atmos×4K：スクリーンは Atmos>4K>raw の優先で表示
    let spec = {has:true, all:false, list:null, raw:null};
    if(rec.atmosAll) spec.all = true;
    else if(rec.atmosList && rec.atmosList.length){ spec.list = rec.atmosList; }
    else if(rec.k4All){ spec.all = true; }
    else if(rec.k4List && rec.k4List.length){ spec.list = rec.k4List; }
    else { spec.raw = rec.atmosRawSpec || rec.k4RawSpec || ""; }
    b.push(labelWithScreens("🎬 Dolby Atmos×4K", spec));
  } else if(rec.atmosHas){
    b.push(labelWithScreens("🎬 Dolby Atmos", {has:true, all:rec.atmosAll, list:rec.atmosList, raw:rec.atmosRawSpec}));
  }
  if(rec.ch71Has){
    b.push(labelWithScreens("🔊 7.1ch", {has:true, all:rec.ch71All, list:rec.ch71List, raw:rec.ch71RawSpec}));
  }
  // 4K 単独は出さない（仕様）
  if(rec.other){ b.push("📝 "+rec.other); }

  if(!b.length) return "";
  let h='<div class="badges">'; for(let i=0;i<b.length;i++) h+=`<span class="badge">${b[i]}</span>`; h+='</div>';
  return h;
}

function seatsLine(rec){
  const s=(rec.seats && String(rec.seats).trim()!=="")? rec.seats : "—";
  return '💺 座席数：'+s;
}
function cardHTML(rec){
  const link=rec.url? `<a class="btn" href="${rec.url}" target="_blank" rel="noopener">公式サイト</a>` : '';
  return `<div class="card">
    <div class="title">${rec.theater||"(劇場名不明)"}</div>
    <div class="meta">📍 ${rec.address||""}</div>
    <div class="meta">${seatsLine(rec)}</div>
    ${badgeRow(rec)}
    ${link}
  </div>`;
}

function renderError(msg){
  document.getElementById("content").innerHTML=`<div class="group"><h2>読み込みエラー</h2><div class="meta">${msg}</div></div>`;
}
function render(){
  if(!DATA || !DATA.length){ return; }
  const recs=[];
  for(let i=0;i<DATA.length;i++){ const r=DATA[i]; if(matchTab(r)&&matchFilters(r)) recs.push(r); }

  const groups={};
  let hasPref = PREFECTS && PREFECTS.length>0;
  if(hasPref){
    for(let i=0;i<recs.length;i++){
      const k=recs[i].prefNorm||"";
      (groups[k]||(groups[k]=[])).push(recs[i]);
    }
  }else{
    groups["_ALL_"]=recs.slice();
  }

  const content=document.getElementById("content");
  content.innerHTML="";
  const order = hasPref ? PREFECTS.map(p=>p.norm) : ["_ALL_"];
  if(groups[""] && groups[""].length) order.push(""); // エリア不明を最後に

  let idx=0;
  function step(){
    if(idx>=order.length){
      if(!content.innerHTML) content.innerHTML='<div class="group"><h2>該当なし</h2><div class="meta">タブ・エリア・検索を調整してください。</div></div>';
      return;
    }
    const key=order[idx++], arr=groups[key];
    if(arr && arr.length){
      const sec=document.createElement("section");
      sec.className="group";
      const disp = (key==="_ALL_") ? "ALL" : (key ? displayPref(key) : "（エリア不明）");
      let html=`<h2>${disp}</h2><div class="grid">`;
      for(let j=0;j<arr.length;j++) html+=cardHTML(arr[j]);
      html+='</div>';
      sec.innerHTML=html;
      content.appendChild(sec);
    }
    requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}
</script>

</body>
</html>
